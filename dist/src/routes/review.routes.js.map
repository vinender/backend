{"version":3,"sources":["../../../src/routes/review.routes.ts"],"sourcesContent":["import { Router } from 'express';\nimport reviewController from '../controllers/review.controller';\nimport { protect } from '../middleware/auth.middleware';\nimport { validateRequest } from '../middleware/validation.middleware';\nimport {\n  createReviewSchema,\n  updateReviewSchema,\n  respondToReviewSchema,\n  getReviewsQuerySchema,\n} from '../validations/review.validation';\n\nconst router = Router();\n\n// Public routes\nrouter.get(\n  '/field/:fieldId',\n  validateRequest(getReviewsQuerySchema),\n  reviewController.getFieldReviews\n);\n\n// Protected routes\nrouter.use(protect);\n\n// Create a review\nrouter.post(\n  '/field/:fieldId',\n  validateRequest(createReviewSchema),\n  reviewController.createReview\n);\n\n// Update a review\nrouter.put(\n  '/:reviewId',\n  validateRequest(updateReviewSchema),\n  reviewController.updateReview\n);\n\n// Delete a review\nrouter.delete('/:reviewId', reviewController.deleteReview);\n\n// Mark review as helpful\nrouter.post('/:reviewId/helpful', reviewController.markHelpful);\n\n// Field owner response\nrouter.post(\n  '/:reviewId/response',\n  validateRequest(respondToReviewSchema),\n  reviewController.respondToReview\n);\n\n// Get user's reviews\nrouter.get('/user/:userId?', reviewController.getUserReviews);\n\nexport default router;"],"names":["router","Router","get","validateRequest","getReviewsQuerySchema","reviewController","getFieldReviews","use","protect","post","createReviewSchema","createReview","put","updateReviewSchema","updateReview","delete","deleteReview","markHelpful","respondToReviewSchema","respondToReview","getUserReviews"],"mappings":";;;;+BAqDA;;;eAAA;;;yBArDuB;yEACM;gCACL;sCACQ;kCAMzB;;;;;;AAEP,MAAMA,SAASC,IAAAA,eAAM;AAErB,gBAAgB;AAChBD,OAAOE,GAAG,CACR,mBACAC,IAAAA,qCAAe,EAACC,uCAAqB,GACrCC,yBAAgB,CAACC,eAAe;AAGlC,mBAAmB;AACnBN,OAAOO,GAAG,CAACC,uBAAO;AAElB,kBAAkB;AAClBR,OAAOS,IAAI,CACT,mBACAN,IAAAA,qCAAe,EAACO,oCAAkB,GAClCL,yBAAgB,CAACM,YAAY;AAG/B,kBAAkB;AAClBX,OAAOY,GAAG,CACR,cACAT,IAAAA,qCAAe,EAACU,oCAAkB,GAClCR,yBAAgB,CAACS,YAAY;AAG/B,kBAAkB;AAClBd,OAAOe,MAAM,CAAC,cAAcV,yBAAgB,CAACW,YAAY;AAEzD,yBAAyB;AACzBhB,OAAOS,IAAI,CAAC,sBAAsBJ,yBAAgB,CAACY,WAAW;AAE9D,uBAAuB;AACvBjB,OAAOS,IAAI,CACT,uBACAN,IAAAA,qCAAe,EAACe,uCAAqB,GACrCb,yBAAgB,CAACc,eAAe;AAGlC,qBAAqB;AACrBnB,OAAOE,GAAG,CAAC,kBAAkBG,yBAAgB,CAACe,cAAc;MAE5D,WAAepB"}
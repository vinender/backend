{"version":3,"sources":["../../../src/routes/field.routes.ts"],"sourcesContent":["import { Router } from 'express';\nimport fieldController from '../controllers/field.controller';\nimport { protect, restrictTo } from '../middleware/auth.middleware';\nimport { optionalAuth } from '../middleware/auth.middleware';\n\nconst router = Router();\n\n// Public routes (with optional auth for better data)\nrouter.get('/', optionalAuth, fieldController.getAllFields);\nrouter.get('/suggestions', fieldController.getFieldSuggestions);\nrouter.get('/search/location', fieldController.searchByLocation);\n\n// Field ownership claiming routes (for field owners to claim unclaimed fields)\n// These are NOT for booking - they're for claiming ownership of unclaimed fields\nrouter.get('/unclaimed', protect, restrictTo('FIELD_OWNER'), fieldController.getFieldForClaim);\nrouter.post('/claim-ownership', protect, restrictTo('FIELD_OWNER'), fieldController.claimField);\n\n// Public route with ID parameter (must come after specific routes)\nrouter.get('/:id', optionalAuth, fieldController.getField);\n\n// All remaining routes require authentication\nrouter.use(protect);\n\n// Field owner routes\nrouter.get('/owner/field', restrictTo('FIELD_OWNER'), fieldController.getOwnerField);\nrouter.get('/owner/bookings', restrictTo('FIELD_OWNER'), fieldController.getFieldBookings);\nrouter.get('/owner/bookings/recent', restrictTo('FIELD_OWNER'), fieldController.getRecentBookings);\nrouter.get('/owner/bookings/today', restrictTo('FIELD_OWNER'), fieldController.getTodayBookings);\nrouter.get('/owner/bookings/upcoming', restrictTo('FIELD_OWNER'), fieldController.getUpcomingBookings);\nrouter.get('/owner/bookings/previous', restrictTo('FIELD_OWNER'), fieldController.getPreviousBookings);\nrouter.post('/save-progress', restrictTo('FIELD_OWNER'), fieldController.saveFieldProgress);\nrouter.post('/submit-for-review', restrictTo('FIELD_OWNER'), fieldController.submitFieldForReview);\nrouter.get('/my-fields', restrictTo('FIELD_OWNER', 'ADMIN'), fieldController.getMyFields);\nrouter.post('/', restrictTo('FIELD_OWNER', 'ADMIN'), fieldController.createField);\n\n// Field management routes\nrouter\n  .route('/:id')\n  .patch(restrictTo('FIELD_OWNER', 'ADMIN'), fieldController.updateField)\n  .delete(restrictTo('FIELD_OWNER', 'ADMIN'), fieldController.deleteField);\n\n// Toggle field active status\nrouter.patch('/:id/toggle-status', restrictTo('FIELD_OWNER', 'ADMIN'), fieldController.toggleFieldStatus);\n\nexport default router;"],"names":["router","Router","get","optionalAuth","fieldController","getAllFields","getFieldSuggestions","searchByLocation","protect","restrictTo","getFieldForClaim","post","claimField","getField","use","getOwnerField","getFieldBookings","getRecentBookings","getTodayBookings","getUpcomingBookings","getPreviousBookings","saveFieldProgress","submitFieldForReview","getMyFields","createField","route","patch","updateField","delete","deleteField","toggleFieldStatus"],"mappings":";;;;+BA4CA;;;eAAA;;;yBA5CuB;wEACK;gCACQ;;;;;;AAGpC,MAAMA,SAASC,IAAAA,eAAM;AAErB,qDAAqD;AACrDD,OAAOE,GAAG,CAAC,KAAKC,4BAAY,EAAEC,wBAAe,CAACC,YAAY;AAC1DL,OAAOE,GAAG,CAAC,gBAAgBE,wBAAe,CAACE,mBAAmB;AAC9DN,OAAOE,GAAG,CAAC,oBAAoBE,wBAAe,CAACG,gBAAgB;AAE/D,+EAA+E;AAC/E,iFAAiF;AACjFP,OAAOE,GAAG,CAAC,cAAcM,uBAAO,EAAEC,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACM,gBAAgB;AAC7FV,OAAOW,IAAI,CAAC,oBAAoBH,uBAAO,EAAEC,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACQ,UAAU;AAE9F,mEAAmE;AACnEZ,OAAOE,GAAG,CAAC,QAAQC,4BAAY,EAAEC,wBAAe,CAACS,QAAQ;AAEzD,8CAA8C;AAC9Cb,OAAOc,GAAG,CAACN,uBAAO;AAElB,qBAAqB;AACrBR,OAAOE,GAAG,CAAC,gBAAgBO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACW,aAAa;AACnFf,OAAOE,GAAG,CAAC,mBAAmBO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACY,gBAAgB;AACzFhB,OAAOE,GAAG,CAAC,0BAA0BO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACa,iBAAiB;AACjGjB,OAAOE,GAAG,CAAC,yBAAyBO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACc,gBAAgB;AAC/FlB,OAAOE,GAAG,CAAC,4BAA4BO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACe,mBAAmB;AACrGnB,OAAOE,GAAG,CAAC,4BAA4BO,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACgB,mBAAmB;AACrGpB,OAAOW,IAAI,CAAC,kBAAkBF,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACiB,iBAAiB;AAC1FrB,OAAOW,IAAI,CAAC,sBAAsBF,IAAAA,0BAAU,EAAC,gBAAgBL,wBAAe,CAACkB,oBAAoB;AACjGtB,OAAOE,GAAG,CAAC,cAAcO,IAAAA,0BAAU,EAAC,eAAe,UAAUL,wBAAe,CAACmB,WAAW;AACxFvB,OAAOW,IAAI,CAAC,KAAKF,IAAAA,0BAAU,EAAC,eAAe,UAAUL,wBAAe,CAACoB,WAAW;AAEhF,0BAA0B;AAC1BxB,OACGyB,KAAK,CAAC,QACNC,KAAK,CAACjB,IAAAA,0BAAU,EAAC,eAAe,UAAUL,wBAAe,CAACuB,WAAW,EACrEC,MAAM,CAACnB,IAAAA,0BAAU,EAAC,eAAe,UAAUL,wBAAe,CAACyB,WAAW;AAEzE,6BAA6B;AAC7B7B,OAAO0B,KAAK,CAAC,sBAAsBjB,IAAAA,0BAAU,EAAC,eAAe,UAAUL,wBAAe,CAAC0B,iBAAiB;MAExG,WAAe9B"}
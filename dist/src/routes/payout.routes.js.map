{"version":3,"sources":["../../../src/routes/payout.routes.ts"],"sourcesContent":["import express from 'express';\nimport { \n  getEarningsHistory, \n  getEarningsSummary, \n  getTransactionDetails,\n  processPendingPayouts,\n  getPayoutHistory,\n  triggerBookingPayout\n} from '../controllers/payout.controller';\nimport { protect, restrictTo } from '../middleware/auth.middleware';\n\nconst router = express.Router();\n\n// All routes require authentication\nrouter.use(protect);\n\n// Get earnings history with pagination\nrouter.get('/earnings/history', getEarningsHistory);\n\n// Get earnings summary\nrouter.get('/earnings/summary', getEarningsSummary);\n\n// Get specific transaction details\nrouter.get('/transactions/:transactionId', getTransactionDetails);\n\n// Process pending payouts for field owner (after Stripe setup)\nrouter.post('/process-pending', restrictTo('FIELD_OWNER'), processPendingPayouts);\n\n// Get payout history\nrouter.get('/history', getPayoutHistory);\n\n// Manually trigger payout for a booking (Admin only)\nrouter.post('/trigger/:bookingId', restrictTo('ADMIN'), triggerBookingPayout);\n\nexport default router;"],"names":["router","express","Router","use","protect","get","getEarningsHistory","getEarningsSummary","getTransactionDetails","post","restrictTo","processPendingPayouts","getPayoutHistory","triggerBookingPayout"],"mappings":";;;;+BAkCA;;;eAAA;;;gEAlCoB;kCAQb;gCAC6B;;;;;;AAEpC,MAAMA,SAASC,gBAAO,CAACC,MAAM;AAE7B,oCAAoC;AACpCF,OAAOG,GAAG,CAACC,uBAAO;AAElB,uCAAuC;AACvCJ,OAAOK,GAAG,CAAC,qBAAqBC,oCAAkB;AAElD,uBAAuB;AACvBN,OAAOK,GAAG,CAAC,qBAAqBE,oCAAkB;AAElD,mCAAmC;AACnCP,OAAOK,GAAG,CAAC,gCAAgCG,uCAAqB;AAEhE,+DAA+D;AAC/DR,OAAOS,IAAI,CAAC,oBAAoBC,IAAAA,0BAAU,EAAC,gBAAgBC,uCAAqB;AAEhF,qBAAqB;AACrBX,OAAOK,GAAG,CAAC,YAAYO,kCAAgB;AAEvC,qDAAqD;AACrDZ,OAAOS,IAAI,CAAC,uBAAuBC,IAAAA,0BAAU,EAAC,UAAUG,sCAAoB;MAE5E,WAAeb"}